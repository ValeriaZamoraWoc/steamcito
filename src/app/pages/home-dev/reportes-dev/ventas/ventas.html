<div class="report-detail">
  <div class="report-header">
    <div class="header-with-icon">
      <span class="report-icon money">ðŸ’°</span>
      <div>
        <h3>Reporte de Ventas e Ingresos</h3>
        <p>Desglose detallado de transacciones, retenciones de plataforma y utilidades netas.</p>
      </div>
    </div>
  </div>

  <div *ngIf="cargando" class="loading-state">
    <div class="steam-spinner"></div>
    <p>Sincronizando datos bancarios...</p>
  </div>

  <div *ngIf="error" class="alert-error">
    <span class="icon">âš </span> {{ error }}
  </div>

  <div class="table-container" *ngIf="ventas.length > 0">
    <table class="financial-table">
      <thead>
        <tr>
          <th>TÃ­tulo del Proyecto</th>
          <th class="text-right">Precio Base</th>
          <th class="text-center">Unidades Vendidas</th>
          <th class="text-center">ComisiÃ³n Plataforma</th>
          <th class="text-right">Ingresos Netos</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let v of ventas">
          <td class="game-cell">
            <strong>{{ v.nombreJuego }}</strong>
          </td>
          <td class="text-right currency-cell">
            <span class="symbol">Q</span>{{ v.precio | number:'1.2-2' }}
          </td>
          <td class="text-center sales-cell">
            {{ v.totalVentas }} <small>uds.</small>
          </td>
          <td class="text-center">
            <span class="commission-badge">-{{ v.comision }}%</span>
          </td>
          <td class="text-right net-income-cell">
            <span class="symbol">Q</span>{{ v.ingresosNetos | number:'1.2-2' }}
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="empty-report" *ngIf="!cargando && ventas.length === 0 && !error">
    <div class="empty-icon">ðŸ“‰</div>
    <p>AÃºn no se registran ventas para este periodo fiscal.</p>
  </div>
</div>