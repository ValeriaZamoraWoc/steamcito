<div class="admin-table-container">
  <header class="header-minimal">
    <h2>Peticiones de Comisión</h2>
    <p>Revisión de porcentajes de desarrolladoras.</p>
  </header>

  <div *ngIf="cargando" class="msg-flat">Cargando...</div>
  <div *ngIf="error" class="error-flat">Error de sistema: {{ error }}</div>

  <div class="table-simple-wrapper" *ngIf="!cargando && peticiones.length > 0">
    <table class="table-minimal">
      <thead>
        <tr>
          <th>Empresa</th>
          <th>Porcentaje</th>
          <th>Estado</th>
          <th class="text-right">Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let p of peticiones">
          <td>{{ p.empresa }}</td>
          <td>{{ p.porcentaje }}%</td>
          <td class="status-text">{{ p.estado }}</td>
          <td class="text-right">
            <div class="btn-group-minimal">
              <button (click)="aceptar(p.idEmpresa)">Aceptar</button>
              <button (click)="rechazar(p.idEmpresa)">Rechazar</button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="empty-minimal" *ngIf="!cargando && peticiones.length === 0">
    Sin peticiones pendientes.
  </div>
</div>