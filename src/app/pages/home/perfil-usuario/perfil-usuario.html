<div class="profile-page">
  <div *ngIf="cargando" class="status-msg">Cargando perfil de usuario...</div>
  <div *ngIf="error" class="alert-simple error">{{ error }}</div>

  <div *ngIf="!cargando && usuario" class="profile-container">
    
    <header class="profile-header-flat-simple">
      <div class="header-identity">
        <div class="avatar-static-small">
          {{ usuario.nickname.charAt(0).toUpperCase() }}
        </div>
        <div class="user-info-text">
          <h2 class="nickname-title">{{ usuario.nickname }}</h2>
          <div class="user-meta-row">
            <span class="meta-label">País: {{ usuario.pais }}</span>
          </div>
        </div>
      </div>
    </header>

    <section class="library-display">
      <div class="display-header">
        <h3>Biblioteca de Juegos</h3>
        <span class="data-count" *ngIf="bibliotecaVisible">
          {{ biblioteca.length }} Registros
        </span>
      </div>

      <div *ngIf="!bibliotecaVisible" class="privacy-lock-box-flat">
        <div class="lock-body">
          <h4>Acceso Restringido</h4>
          <p>La biblioteca de este usuario es privada.</p>
        </div>
      </div>

      <div class="grid-mini-static" *ngIf="bibliotecaVisible && biblioteca.length > 0">
        <div class="game-item-flat" *ngFor="let juego of biblioteca">
          <div class="image-wrapper-static">
            <img [src]="juego.urlImagen" alt="" class="img-flat">
          </div>
          <div class="item-details-flat">
            <span class="game-name">{{ juego.nombreJuego }}</span>
            <span class="game-price-tag">Q {{ juego.precio }}</span>
          </div>
        </div>
      </div>

      <div *ngIf="bibliotecaVisible && biblioteca.length === 0" class="empty-notif">
        No hay títulos registrados en esta colección.
      </div>
    </section>

  </div>
</div>