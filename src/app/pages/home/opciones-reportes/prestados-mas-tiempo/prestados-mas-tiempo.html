<div class="report-container-user">
  <div class="report-header-minimal">
    <h3><span class="icon-social">‚è≥</span> Invasi√≥n Familiar</h3>
    <p>Ranking de los t√≠tulos ajenos que m√°s sesiones han ocupado en tu historial.</p>
  </div>

  <div *ngIf="cargando" class="user-loader">
    <div class="spinner-steam purple"></div>
    <p>Sincronizando registros de tiempo compartido...</p>
  </div>

  <div *ngIf="error" class="user-alert error">
    <span class="alert-icon">‚ùå</span>
    <p>{{ error }}</p>
  </div>

  <div class="borrowed-list" *ngIf="!cargando && juegos.length > 0">
    <div class="borrowed-card" *ngFor="let juego of juegos; let i = index">
      
      <div class="poster-box">
        <img [src]="juego.portada" alt="{{ juego.nombre }}" class="game-img">
        <div class="borrowed-tag">Prestado</div>
      </div>

      <div class="borrowed-content">
        <div class="header-row">
          <h3>{{ juego.nombre }}</h3>
          <span class="rank-label">#{{ i + 1 }}</span>
        </div>

        <div class="activity-stats">
          <div class="stat-item">
            <span class="stat-value">{{ juego.cantidad }}</span>
            <span class="stat-desc">Sesiones de juego</span>
          </div>
          
          <div class="activity-bar">
            <div class="activity-fill" [style.width.%]="(juego.cantidad / juegos[0].cantidad) * 100"></div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="!cargando && juegos.length === 0" class="user-empty-state">
    <div class="empty-icon">ü§ù</div>
    <p>A√∫n no has registrado actividad en juegos de tus grupos familiares.</p>
  </div>
</div>